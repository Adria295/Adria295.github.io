<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="FileIO and ExceptionsWhat are exceptions? Exceptions are objects  Exceptions are made and thrown when something bad happens  We can catch exceptions in our programs so that we can make the bad things">
<meta property="og:type" content="article">
<meta property="og:title" content="FileIO and Exceptions">
<meta property="og:url" content="http://example.com/2021/09/02/FileIO%20and%20Exceptions/index.html">
<meta property="og:site_name" content="William&#39;s Blog">
<meta property="og:description" content="FileIO and ExceptionsWhat are exceptions? Exceptions are objects  Exceptions are made and thrown when something bad happens  We can catch exceptions in our programs so that we can make the bad things">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/Users/william/Library/Application%20Support/typora-user-images/image-20210208234503427.png">
<meta property="article:published_time" content="2021-09-02T12:00:16.000Z">
<meta property="article:modified_time" content="2021-09-02T13:05:57.621Z">
<meta property="article:author" content="William Bao">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/Users/william/Library/Application%20Support/typora-user-images/image-20210208234503427.png">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>FileIO and Exceptions</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" "Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/Adria295">Projects</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post " href="/2021/09/02/ADS/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post " href="/2021/09/02/Functional%20Dependency%20Theory/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top " href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post " href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/09/02/FileIO%20and%20Exceptions/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&text=FileIO and Exceptions"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&is_video=false&description=FileIO and Exceptions"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=FileIO and Exceptions&body=Check out this article: http://example.com/2021/09/02/FileIO%20and%20Exceptions/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&name=FileIO and Exceptions&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&t=FileIO and Exceptions"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#FileIO-and-Exceptions"><span class="toc-number">1.</span> <span class="toc-text">FileIO and Exceptions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-are-exceptions"><span class="toc-number">1.1.</span> <span class="toc-text">What are exceptions?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unchecked-exceptions"><span class="toc-number">1.2.</span> <span class="toc-text">Unchecked exceptions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Throw-your-own"><span class="toc-number">1.3.</span> <span class="toc-text">Throw your own</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Catching"><span class="toc-number">1.4.</span> <span class="toc-text">Catching</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Simple-Example"><span class="toc-number">1.5.</span> <span class="toc-text">Simple Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-checked-exception-FileNotFoundException"><span class="toc-number">1.6.</span> <span class="toc-text">A checked exception - FileNotFoundException</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Closing-the-FileReader"><span class="toc-number">1.7.</span> <span class="toc-text">Closing the FileReader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Catching-%E2%80%98higher%E2%80%99-exceptions"><span class="toc-number">1.8.</span> <span class="toc-text">Catching ‘higher’ exceptions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Delegating-catches"><span class="toc-number">1.9.</span> <span class="toc-text">Delegating catches</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Delegating-catches-2"><span class="toc-number">1.10.</span> <span class="toc-text">Delegating catches 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Order-is-important"><span class="toc-number">1.11.</span> <span class="toc-text">Order is important</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reading-from-a-file"><span class="toc-number">1.12.</span> <span class="toc-text">Reading from a file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Writing-to-a-file"><span class="toc-number">1.13.</span> <span class="toc-text">Writing to a file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BufferedWriter"><span class="toc-number">1.14.</span> <span class="toc-text">BufferedWriter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JFileChooser"><span class="toc-number">1.15.</span> <span class="toc-text">JFileChooser</span></a></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        FileIO and Exceptions
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">William Bao</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2021-09-02T12:00:16.000Z" itemprop="datePublished">2021-09-02</time>
        
      
    </div>


      

      

    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h1 id="FileIO-and-Exceptions"><a href="#FileIO-and-Exceptions" class="headerlink" title="FileIO and Exceptions"></a>FileIO and Exceptions</h1><h2 id="What-are-exceptions"><a href="#What-are-exceptions" class="headerlink" title="What are exceptions?"></a>What are exceptions?</h2><ul>
<li><p>Exceptions are <strong>objects</strong></p>
</li>
<li><p>Exceptions are made and <strong>thrown</strong> when something bad happens</p>
</li>
<li><p>We can <strong>catch</strong> exceptions in our programs so that we can make the bad things better</p>
</li>
<li><p>Some exceptions <strong>have to be caught</strong></p>
<ul>
<li>Known as <strong>checked</strong> exceptions</li>
</ul>
</li>
<li><p>Some don’t have to be caught (the ones you’ve seen)</p>
<ul>
<li>Known as <strong>unchecked</strong> exceptions</li>
</ul>
</li>
<li><p>Dealing with files requires handling <strong>checked</strong> exceptions</p>
</li>
</ul>
<hr>
<h2 id="Unchecked-exceptions"><a href="#Unchecked-exceptions" class="headerlink" title="Unchecked exceptions"></a>Unchecked exceptions</h2><ul>
<li><p>Unchecked exceptions are common e.g.:</p>
<ul>
<li>You try and access an element of an array that doesn’t exist</li>
<li>You try and convert “Hello” into an integer</li>
</ul>
</li>
<li><p>You can also make them happen on purpose using the <strong>throw</strong> command</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Throw</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;About to throw an unchecked exception&quot;</span>);</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> ArrayIndexOutOfBoundsException();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//Output:</span></span><br><span class="line"><span class="comment">//About to throw an unchecked exception</span></span><br><span class="line"><span class="comment">//Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException</span></span><br><span class="line"><span class="comment">//at Throw.main(Throw.java:5)</span></span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Throw-your-own"><a href="#Throw-your-own" class="headerlink" title="Throw your own"></a>Throw your own</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyException</span> <span class="keyword">extends</span> <span class="title">RuntimeException</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Throw</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">&quot;About to throw!&quot;</span>);</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> MyException();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Catching"><a href="#Catching" class="headerlink" title="Catching"></a>Catching</h2><ul>
<li><p>Exceptions become really useful once you know how to <strong>catch</strong> them</p>
<ul>
<li>Remember: all exceptions <strong>can</strong> be caught. Some (checked ones) <strong>have to be caught</strong>.</li>
</ul>
</li>
<li><p>Catching an exception detects that it has happened and allows you to act accordingly.</p>
</li>
<li><p>Achieved using try / catch / finally blocks</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="comment">// code A</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(&lt;ExceptionType&gt; &lt;name&gt;) &#123;</span><br><span class="line"><span class="comment">// if code A causes an exception</span></span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="comment">// some code done regardless</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Simple-Example"><a href="#Simple-Example" class="headerlink" title="Simple Example"></a>Simple Example</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Random;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ArrayExceptionCaught</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] x = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">Random r = <span class="keyword">new</span> Random();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">int</span> pos = r.nextInt(<span class="number">20</span>);</span><br><span class="line">System.out.println(x[pos]);</span><br><span class="line">&#125;<span class="keyword">catch</span>(ArrayIndexOutOfBoundsException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;This happens whatever&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="A-checked-exception-FileNotFoundException"><a href="#A-checked-exception-FileNotFoundException" class="headerlink" title="A checked exception - FileNotFoundException"></a>A checked exception - FileNotFoundException</h2><ul>
<li><p>FileReader is a Java class that allows you to read characters from a file</p>
</li>
<li><p>It tells us that the constructor throws FileNotFoundException and we therefore have to <strong>catch</strong> it</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FR</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">String fN = <span class="string">&quot;/Users/simon/Desktop/students.csv&quot;</span>;</span><br><span class="line">FileReader fr = <span class="keyword">new</span> FileReader(fN);  <span class="comment">//It is the constructor that throws the exception</span></span><br><span class="line">																		<span class="comment">//So we have to put the code that makes the FileReader (new FileReader(filename) etc) into a try block</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Closing-the-FileReader"><a href="#Closing-the-FileReader" class="headerlink" title="Closing the FileReader"></a>Closing the FileReader</h2><ul>
<li><p>FileReader objects need to be <strong>closed</strong> when we’re finished with them</p>
</li>
<li><p>It is good practice to do this in a <strong>finally</strong> block: it gets closed whatever happens.</p>
</li>
<li><p>The API tells us that the close method of FileReader can throw an IOException which we will need to catch</p>
</li>
<li><p>We do this in a separate try catch block within the finally of the first try catch block</p>
</li>
<li><p>and we need to create the FileReader reference outside the first try catch block so that it is in scope</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FR2</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">FileReader fr = <span class="keyword">null</span>;  <span class="comment">//Make the reference here so it is visible in finally</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">String fN = <span class="string">&quot;/Users/simon/Desktop/students.csv&quot;</span>;</span><br><span class="line">fr = <span class="keyword">new</span> FileReader(fN);</span><br><span class="line">&#125;<span class="keyword">catch</span>(FileNotFoundException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;<span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">fr.close();</span><br><span class="line">&#125;<span class="keyword">catch</span>(IOException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Catching-‘higher’-exceptions"><a href="#Catching-‘higher’-exceptions" class="headerlink" title="Catching ‘higher’ exceptions"></a>Catching ‘higher’ exceptions</h2><ul>
<li><p>FileNotFoundException inherits from IOException which inherits from Exception, which also inherits from Throwable</p>
</li>
<li><p>Anywhere where we need to catch FileNotFoundException, we could catch any of these types instead, and it would be caught (this is an example of <strong>polymorphism</strong>)</p>
</li>
</ul>
<img src="/Users/william/Library/Application Support/typora-user-images/image-20210208234503427.png" alt="image-20210208234503427" style="zoom: 67%;" />



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">FileReader fr = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">String fN = <span class="string">&quot;/Users/simon/Desktop/students.csv&quot;</span>;</span><br><span class="line">fr = <span class="keyword">new</span> FileReader(fN);</span><br><span class="line"><span class="comment">// read file</span></span><br><span class="line">fr.close();</span><br><span class="line">&#125;<span class="keyword">catch</span>(IOException e) &#123;  <span class="comment">//This will catch Exceptions thrown by either the FileReader constructor or the 		close() method.</span></span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125; <span class="comment">//更好的方法是分开catch！</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Delegating-catches"><a href="#Delegating-catches" class="headerlink" title="Delegating catches"></a>Delegating catches</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">myMethod</span><span class="params">(String a)</span> <span class="keyword">throws</span> IOException, ArrayIndexOutOfBoundsException </span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>This means you can get rid of all the exception handling in our FileReader by defining our main to throw the exceptions</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException, IOException</span>&#123;</span><br><span class="line">String fN = <span class="string">&quot;/Users/simon/Desktop/students.csv&quot;</span>;</span><br><span class="line">FileReader fr = <span class="keyword">new</span> FileReader(fN);</span><br><span class="line"><span class="comment">// some reading</span></span><br><span class="line">fr.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>Q: the code above is a bit redundant - what could we remove? // FileNotFoundException</li>
</ul>
<hr>
<h2 id="Delegating-catches-2"><a href="#Delegating-catches-2" class="headerlink" title="Delegating catches 2"></a>Delegating catches 2</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Delegation</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">myMethod(); <span class="comment">//Because myMethod can throw a MyException, it has to be in a try catch block.</span></span><br><span class="line">&#125;<span class="keyword">catch</span>(MyException e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">myMethod</span><span class="params">()</span> <span class="keyword">throws</span> MyException </span>&#123;  <span class="comment">//A MyException can be thrown in this method. It doesn’t want to deal with it, so throws it up to the calling method (main).</span></span><br><span class="line"><span class="comment">// some code</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">new</span> Random().nextInt(<span class="number">10</span>)&lt;=<span class="number">7</span>) &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> MyException();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Order-is-important"><a href="#Order-is-important" class="headerlink" title="Order is important"></a>Order is important</h2><ul>
<li>Because of <strong>polymorphism</strong>, multiple catch statements could potentially catch the same Exception:</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ClassQ</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException();</span><br><span class="line">&#125;<span class="keyword">catch</span>(IOException e) &#123;   <span class="comment">//Exceptions are caught by the first (top to bottom) catch statement that they can be caught by</span></span><br><span class="line">System.out.println(<span class="string">&quot;IO&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">catch</span>(FileNotFoundException e) &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;FnF&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;<span class="comment">//In this case, Java will not compile because all FnF exceptions will be caught by the IOException making the line that prints FnF *unreachable*!</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="Reading-from-a-file"><a href="#Reading-from-a-file" class="headerlink" title="Reading from a file"></a>Reading from a file</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// make a filereader object</span></span><br><span class="line">fr = <span class="keyword">new</span> FileReader(<span class="string">&quot;/Users/simon/Desktop/students.csv&quot;</span>);</span><br><span class="line"><span class="comment">// make a scanner around the filereader</span></span><br><span class="line">Scanner s = <span class="keyword">new</span> Scanner(fr);</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Loop until no lines left</span></span><br><span class="line"><span class="keyword">while</span>(s.hasNextLine()) &#123;</span><br><span class="line"><span class="comment">// get the next line</span></span><br><span class="line">String line = s.nextLine();</span><br></pre></td></tr></table></figure>



<ul>
<li><p>Finally, we need to turn the grade into an int (it’s currently a String)</p>
</li>
<li><p>The <strong>static</strong> parseInt() method from the Integer class will do this:</p>
<ul>
<li>int grade = Integer.parseInt(tokens[1]);</li>
</ul>
</li>
<li><p>We can now make a new Student object from the name and grade:</p>
<ul>
<li>new Student(tokens[0],grade);</li>
</ul>
</li>
<li><p>And store it into the array (also increasing the number of students)</p>
</li>
<li><p>students[nStudents++] = new Student(tokens[0],grade);</p>
</li>
</ul>
<hr>
<h2 id="Writing-to-a-file"><a href="#Writing-to-a-file" class="headerlink" title="Writing to a file"></a>Writing to a file</h2><ul>
<li><p>Our Student object has a compareTo method (Comparable interface) so we can use Arrays.sort</p>
</li>
<li><p>To write to a file we use a FileWriter object</p>
</li>
</ul>
<hr>
<h2 id="BufferedWriter"><a href="#BufferedWriter" class="headerlink" title="BufferedWriter"></a>BufferedWriter</h2><ul>
<li><p>It can be beneficial to put things in a buffer (temporary storage) and only write to the file once there is enough there</p>
</li>
<li><p>You can force it to write by <strong>flushing</strong> the buffer (bw.flush())</p>
</li>
<li><p>Data also written when:</p>
<ul>
<li><p>Buffer is full</p>
</li>
<li><p>BufferedWriter is closed</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fw = <span class="keyword">new</span> FileWriter(outName);</span><br><span class="line">BufferedWriter bw = <span class="keyword">new</span> BufferedWriter(fw);</span><br><span class="line"><span class="comment">// maybe a loop or something</span></span><br><span class="line">bw.write(newLine);</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="JFileChooser"><a href="#JFileChooser" class="headerlink" title="JFileChooser"></a>JFileChooser</h2><p>可以指定File</p>
<ul>
<li><p>JFileChooser is part of the Java Swing GUI library.</p>
</li>
<li><p>It includes both open and save windows</p>
</li>
<li><p>Very easy to use:</p>
<ul>
<li><p>JFileChooser fc = <strong>new</strong> JFileChooser();</p>
</li>
<li><p><strong>int</strong> returnVal = fc.showOpenDialog(<strong>new</strong> JFrame());</p>
</li>
</ul>
</li>
<li><p>This will pop up a JFileChooser dialog box</p>
</li>
<li><p>returnVal tells you if a file was chosen or not (0 = yes)</p>
</li>
<li><p>Access the File object using fc.getSelectedFile();</p>
</li>
</ul>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/Adria295">Projects</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#FileIO-and-Exceptions"><span class="toc-number">1.</span> <span class="toc-text">FileIO and Exceptions</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-are-exceptions"><span class="toc-number">1.1.</span> <span class="toc-text">What are exceptions?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Unchecked-exceptions"><span class="toc-number">1.2.</span> <span class="toc-text">Unchecked exceptions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Throw-your-own"><span class="toc-number">1.3.</span> <span class="toc-text">Throw your own</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Catching"><span class="toc-number">1.4.</span> <span class="toc-text">Catching</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Simple-Example"><span class="toc-number">1.5.</span> <span class="toc-text">Simple Example</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#A-checked-exception-FileNotFoundException"><span class="toc-number">1.6.</span> <span class="toc-text">A checked exception - FileNotFoundException</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Closing-the-FileReader"><span class="toc-number">1.7.</span> <span class="toc-text">Closing the FileReader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Catching-%E2%80%98higher%E2%80%99-exceptions"><span class="toc-number">1.8.</span> <span class="toc-text">Catching ‘higher’ exceptions</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Delegating-catches"><span class="toc-number">1.9.</span> <span class="toc-text">Delegating catches</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Delegating-catches-2"><span class="toc-number">1.10.</span> <span class="toc-text">Delegating catches 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Order-is-important"><span class="toc-number">1.11.</span> <span class="toc-text">Order is important</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reading-from-a-file"><span class="toc-number">1.12.</span> <span class="toc-text">Reading from a file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Writing-to-a-file"><span class="toc-number">1.13.</span> <span class="toc-text">Writing to a file</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BufferedWriter"><span class="toc-number">1.14.</span> <span class="toc-text">BufferedWriter</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JFileChooser"><span class="toc-number">1.15.</span> <span class="toc-text">JFileChooser</span></a></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=http://example.com/2021/09/02/FileIO%20and%20Exceptions/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&text=FileIO and Exceptions"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&is_video=false&description=FileIO and Exceptions"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=FileIO and Exceptions&body=Check out this article: http://example.com/2021/09/02/FileIO%20and%20Exceptions/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&title=FileIO and Exceptions"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&name=FileIO and Exceptions&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=http://example.com/2021/09/02/FileIO%20and%20Exceptions/&t=FileIO and Exceptions"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021
    William Bao
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/about/">About</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a target="_blank" rel="noopener" href="https://github.com/Adria295">Projects</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->


</body>
</html>
